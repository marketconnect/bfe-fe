diff --git a/app/[lang]/admin/page.tsx b/app/[lang]/admin/page.tsx
index 862143b..9190308 100644
--- a/app/[lang]/admin/page.tsx
+++ b/app/[lang]/admin/page.tsx
@@ -546,13 +546,19 @@
       for (let i = 0; i < files.length; i++) {
         const [key, url] = files[i];
         const fileName = key.split('/').pop() || key;
         setDownloadProgress({ total: files.length, current: i, message: `Скачивание файла ${i + 1} из ${files.length}: ${fileName}` });
         
+        let zipPath = key;
+        const segments = key.split('/');
+        if (segments.length > 1 && /^\d{16,}$/.test(segments[0])) {
+            zipPath = segments.slice(1).join('/');
+        }
+
         try {
           const response = await fetch(toProxy(url));
           if (!response.ok) {
             throw new Error(`HTTP error! status: ${response.status}`);
           }
           const blob = await response.blob();
-          zip.file(key, blob);
+          zip.file(zipPath, blob);
         } catch (e) {
           console.error(`Failed to download ${key}:`, e);
           failedDownloads.push(key);
diff --git a/app/[lang]/dashboard/page.tsx b/app/[lang]/dashboard/page.tsx
index c602715..884351c 100644
--- a/app/[lang]/dashboard/page.tsx
+++ b/app/[lang]/dashboard/page.tsx
@@ -201,13 +201,19 @@
             for (let i = 0; i < files.length; i++) {
                 const [key, url] = files[i];
                 const fileName = key.split('/').pop() || key;
                 setDownloadProgress({ total: files.length, current: i, message: `Скачивание файла ${i + 1} из ${files.length}: ${fileName}` });
                 
+                let zipPath = key;
+                const segments = key.split('/');
+                if (segments.length > 1 && /^\d{16,}$/.test(segments[0])) {
+                    zipPath = segments.slice(1).join('/');
+                }
+
                 try {
                     const response = await fetch(toProxy(url as string));
                     if (!response.ok) {
                         throw new Error(`HTTP error! status: ${response.status}`);
                     }
                     const blob = await response.blob();
-                    zip.file(key, blob);
+                    zip.file(zipPath, blob);
                 } catch (e) {
                     console.error(`Failed to download ${key}:`, e);
                     failedDownloads.push(key);